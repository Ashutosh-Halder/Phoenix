"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const id_to_uuid_1 = require("./id-to-uuid");
const pageIdRe = /\b([a-f0-9]{32})\b/;
const pageId2Re = /\b([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})\b/;
/**
 * Robustly extracts the notion page ID from a notion URL or pathname suffix.
 *
 * Defaults to returning a UUID (with dashes).
 */
exports.parsePageId = (id = '', { uuid = true } = {}) => {
    id = id.split('?')[0];
    const match = id.match(pageIdRe);
    if (match) {
        return uuid ? id_to_uuid_1.idToUuid(match[1]) : match[1];
    }
    const match2 = id.match(pageId2Re);
    if (match2) {
        return uuid ? match2[1] : match2[1].replace(/-/g, '');
    }
    return null;
};
//# sourceMappingURL=parse-page-id.js.map